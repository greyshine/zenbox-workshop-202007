<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Enter Exit Update</title>
    <style>
        html,
        body {
            width: 100%;
            height: 100%;
            margin: 0;
        }

        svg {
            display: block;
            width: 100%;
            height: 100%;
        }

        circle {
            fill: hsla(360, 100%, 20%, 0.5);
            stroke: hsla(180, 70%, 5%, 0.5);
            stroke-width: 1px;
        }

        button {
            display: block;
            position: absolute;
            left: 2rem;
            top: 2rem;
            padding: 0.25rem;
            background-color: hsla(180, 70%, 5%, 0.8);
            box-shadow: 5px 5px 2px hsla(180, 70%, 5%, 0.5);
            color: white;
        }
    </style>
    <script src="https://d3js.org/d3.v5.js"></script>
</head>

<body>
    <script>
        !(function () {
            'use strict';
            // - - - - - - - - - -
            let
                svg, config, dataIndex = 1,
                data1 = [23, 46, 68, 23, 46],
                data2 = [32, 54, 78, 34, 58, 89, 24, 45];

            config = {
                layout: {
                    width: 500,
                    height: 500,
                    left: 50,
                    right: 50,
                    top: 25,
                    bottom: 25
                }
            };
            // config.layout.width

            // Create an SVG Pointer
            svg = d3.select('body').append('svg');

            // config.layout.width = svg.attr('width');
            // config.layout.height = svg.attr('height');

            // Create Text and axis

            // Create basic circles
            svg
                .append('g')
                .selectAll('circle')
                .data(data1)
                .enter()
                .append('circle')
                .attr('cx', function (d, i) {
                    return (i * ((config.layout.width - config.layout.left - config.layout.right) / data1
                        .length));
                })
                .attr('cy', '200')
                .attr('r', function (d, i) {
                    return d;
                });

            // button to change
            d3.select('body')
                .append('button')
                .text('change')
                .on('click', function () {
                    // Data change
                    let data, circle;

                    if (dataIndex === 1) {
                        dataIndex = 2;
                        data = data2;
                    } else {
                        dataIndex = 1;
                        data = data1;
                    }

                    // Rejoin data
                    circle = svg.select('g')
                        .selectAll('circle')
                        .data(data);

                    // remove unneeded circles
                    circle.exit().remove();

                    // new data
                    circle.enter().append('circle').attr('r', 0);

                    circle
                        .transition()
                        .duration(500)
                        .attr('cx', function (d, i) {
                            return (i * ((config.layout.width - config.layout.left - config.layout
                                    .right) /
                                data.length));
                        })
                        .attr('cy', '200')
                        .attr('r', function (d, i) {
                            return d;
                        });
                })
            // - - - - - - - - - -
        }());
    </script>

</body>

</html>